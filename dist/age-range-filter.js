!function(e){function t(n){if(a[n])return a[n].exports;var s=a[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,t),s.l=!0,s.exports}var a={};t.m=e,t.c=a,t.d=function(e,a,n){t.o(e,a)||Object.defineProperty(e,a,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(a,"a",a),a},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/dist/",t(t.s=1)}([function(e,t,a){"use strict";t.a={name:"AgeRangeFilter",props:{},data:function(){return{labels:{title:"Pasajeros",total:"Total",foreigners:"Extranjeros"},ageRanges:[],filters:[],countPassengers:0,params:{"age-range":{}}}},methods:{setup:function(){if(this.$options.labels){var e=this.copyObject(this.$options.labels);this.labels.title=e.title||this.labels.title,this.labels.total=e.total||this.labels.total,this.labels.foreigners=e.foreigners||this.labels.foreigners}if(this.$options.ageRanges){var t=this.copyObject(this.$options.ageRanges);this.ageRanges=t||this.ageRanges}this.$options.filters&&(this.filters=this.$options.filters)},copyObject:function(e){return JSON.parse(JSON.stringify(e))},changeForeigner:function(){this.recalculate()},change:function(e,t,a,n,s){"total"==n?("number"==typeof e&&e>=0&&("increase"==a?this.countPassengers++:"decrease"==a?this.countPassengers--:this.countPassengers=this.countPassengers+e),this.ageRanges[s].data.foreigners.currentValue>e&&(this.ageRanges[s].data.foreigners.currentValue=e),this.ageRanges[s].data.foreigners.disabled=!(e>0),this.ageRanges[s].data.foreigners.max=e,this.ageRanges[s].data.total.currentValue=e):this.ageRanges[s].data.foreigners.currentValue=e,this.recalculate()},recalculate:function(){Object.values(this.ageRanges).map(function(e){this.addTotalOnRange(e.data.total.currentValue,"total",e.tag),this.addTotalOnRange(e.data.foreigners.currentValue,"foreigners",e.tag)}.bind(this)),window.EventBus.$emit("age-ranges-changed",this.countPassengers,this.params["age-range"]),this.$forceUpdate()},setData:function(){var e=void 0===this.filters.ageRanges?[]:this.filters.ageRanges;e=null===e?[]:e;var t=this;this.ageRanges.forEach(function(a,n){var s=void 0===e[a.tag]?[]:e[a.tag],r=void 0===s.foreigners?0:s.foreigners,i=void 0===s.total?0:s.total,o={foreigners:{show:!0,disabled:!1,max:2e3,value:r,currentValue:r},total:{show:!0,disabled:!1,value:i,currentValue:i,limit:!1,ranges:!1}};t.ageRanges[n].data=o})},addTotalOnRange:function(e,t,a){void 0===this.params["age-range"]&&(this.params["age-range"]={}),void 0===this.params["age-range"][a]&&(this.params["age-range"][a]={}),void 0===this.params["age-range"][a][t]&&(this.params["age-range"][a][t]=""),this.params["age-range"][a][t]=e}},created:function(){this.setup(),this.setData(),window.EventBus.$on("reset-age-ranges",function(){this.ageRanges.forEach(function(e,t){this.ageRanges[t].data.total.value=this.ageRanges[t].data.total.currentValue=0,this.ageRanges[t].data.foreigners.value=this.ageRanges[t].data.foreigners.currentValue=0}.bind(this)),this.countPassengers=0,this.$forceUpdate(),window.EventBus.$emit("cleared-age-ranges")}.bind(this))}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(2),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r={install:function(e,t){e.component(n.a.name,s({},t,n.a))}};"undefined"!=typeof window&&window.Vue&&(window.AgeRangeFilter=r),t.default=r},function(e,t,a){"use strict";var n=a(0),s=a(4),r=a(3),i=r(n.a,s.a,!1,null,null,null);t.a=i.exports},function(e,t){e.exports=function(e,t,a,n,s,r){var i,o=e=e||{},l=typeof e.default;"object"!==l&&"function"!==l||(i=e,o=e.default);var g="function"==typeof o?o.options:o;t&&(g.render=t.render,g.staticRenderFns=t.staticRenderFns,g._compiled=!0),a&&(g.functional=!0),s&&(g._scopeId=s);var c;if(r?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(r)},g._ssrRegister=c):n&&(c=n),c){var u=g.functional,d=u?g.render:g.beforeCreate;u?(g._injectStyles=c,g.render=function(e,t){return c.call(t),d(e,t)}):g.beforeCreate=d?[].concat(d,c):[c]}return{esModule:i,exports:o,options:g}}},function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("div",{staticClass:"panel-heading",staticStyle:{padding:"0"}},[a("div",{staticClass:"row"},[a("b",{staticClass:"col-xs-4"}),e._v(" "),a("b",{staticClass:"col-xs-4 text-center",domProps:{innerHTML:e._s(e.labels.total)}}),e._v(" "),a("b",{staticClass:"col-xs-4 text-center",domProps:{innerHTML:e._s(e.labels.foreigners)}})])]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.countPassengers,expression:"countPassengers"}],staticClass:"form-control",attrs:{type:"hidden",min:"1",id:"passengers",name:"passengers"},domProps:{value:e.countPassengers},on:{input:function(t){t.target.composing||(e.countPassengers=t.target.value)}}}),e._v(" "),e._l(e.ageRanges,function(t,n){return a("div",{staticClass:"row"},[a("label",{staticClass:"col-xs-4"},[e._v(e._s(t.name))]),e._v(" "),a("div",{staticClass:"col-xs-4",attrs:{id:"total-passengers-range-"+t.tag}},[a("number-input",{attrs:{inline:"",center:"",controls:"",inputtable:!1,min:"0",placeholder:"0",size:"large",name:"quantity["+t.tag+"][total]",id:"quantity-total",type:"total","data-name":t.tag,value:t.data.total.value,"age-range":n},on:{change:e.change},model:{value:t.data.total.currentValue,callback:function(a){e.$set(t.data.total,"currentValue",a)},expression:"ageRange.data.total.currentValue"}})],1),e._v(" "),a("div",{staticClass:"col-xs-4",attrs:{id:"total-foreigners-range-"+t.tag}},[a("number-input",{attrs:{inline:"",center:"",controls:"",inputtable:!1,min:"0",placeholder:"0",size:"large",name:"quantity["+t.tag+"][foreigners]",id:"quantity-foreigners",type:"foreigners",max:t.data.foreigners.max,disabled:t.data.foreigners.disabled,"data-name":t.tag,value:t.data.foreigners.value,"age-range":n},on:{change:e.changeForeigner},model:{value:t.data.foreigners.currentValue,callback:function(a){e.$set(t.data.foreigners,"currentValue",a)},expression:"ageRange.data.foreigners.currentValue"}})],1)])})],2)},s=[],r={render:n,staticRenderFns:s};t.a=r}]);
//# sourceMappingURL=age-range-filter.js.map